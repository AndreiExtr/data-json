(function(){"use strict";var e={76:function(e,t,s){var n=s(751),o=s(641),r=s(33);const a={class:"container"},l={class:"container__tabs"},i={key:0,class:"container__list"},c={key:1,class:"container__list"},u={class:"json-block"},d={class:"json-block"};function h(e,t,s,h,f,m){const v=(0,o.g2)("UsersView");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",l,[(0,o.Lk)("a",{href:"#",class:(0,r.C4)({active:0===f.activeTabs}),onClick:t[0]||(t[0]=(0,n.D$)((e=>m.setActiveTabs(0)),["prevent"]))},"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",2),(0,o.Lk)("a",{href:"#",class:(0,r.C4)({active:1===f.activeTabs}),onClick:t[1]||(t[1]=(0,n.D$)((e=>m.setActiveTabs(1)),["prevent"]))},"API",2)]),0===f.activeTabs?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.bF)(v)])):(0,o.Q3)("",!0),1===f.activeTabs?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("button",{class:"js-bt",onClick:t[2]||(t[2]=(...e)=>m.downloadUsers&&m.downloadUsers(...e))},"–°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª users.json"),t[5]||(t[5]=(0,o.Fv)('<section><h2>üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:</h2><ul class="json-block"><li><code>GET /users</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∏—Ö –¥–∞–Ω–Ω—ã–º–∏ –∏ —Ä–æ–ª—è–º–∏.</li><li><code>GET /roles</code> ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–æ–ª–µ–π.</li><li><code>POST /users</code> ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–µ—Ä–µ–¥–∞—Ç—å –∏–º—è, email –∏ —Ä–æ–ª—å). </li><li><code>GET /download/users</code> ‚Äî —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.</li></ul></section>',1)),(0,o.Lk)("section",null,[t[3]||(t[3]=(0,o.Lk)("h2",null,[(0,o.eW)("üì¶ JSON-–æ—Ç–≤–µ—Ç –Ω–∞ "),(0,o.Lk)("code",null,"GET /users"),(0,o.eW)(":")],-1)),(0,o.Lk)("pre",u,(0,r.v_)(f.usersJson),1)]),(0,o.Lk)("section",null,[t[4]||(t[4]=(0,o.Lk)("h2",null,[(0,o.eW)("üì¶ JSON-–æ—Ç–≤–µ—Ç –Ω–∞ "),(0,o.Lk)("code",null,"GET /roles"),(0,o.eW)(":")],-1)),(0,o.Lk)("pre",d,(0,r.v_)(f.rolesJson),1)])])):(0,o.Q3)("",!0)])}const f={class:"form"},m={key:0,style:{color:"red"}},v=["value"];function p(e,t,s,a,l,i){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("form",f,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.newUser.name=e),placeholder:"–ò–º—è"},null,512),[[n.Jo,l.newUser.name]]),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.newUser.email=e),placeholder:"Email"},null,512),[[n.Jo,l.newUser.email]]),e.emailError?((0,o.uX)(),(0,o.CE)("span",m,(0,r.v_)(e.emailError),1)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newUser.roleId=e)},[t[4]||(t[4]=(0,o.Lk)("option",{disabled:"",value:""},"–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.roles,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,r.v_)(e.name),9,v)))),128))],512),[[n.u1,l.newUser.roleId]]),(0,o.Lk)("button",{class:"add-bt",onClick:t[3]||(t[3]=(...e)=>i.submitForm&&i.submitForm(...e))},"–î–æ–±–∞–≤–∏—Ç—å")]),(0,o.Lk)("table",null,[t[5]||(t[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"–ò–º—è"),(0,o.Lk)("th",null,"Email"),(0,o.Lk)("th",null,"–†–æ–ª—å")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.users,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,r.v_)(e.name),1),(0,o.Lk)("td",null,(0,r.v_)(e.email),1),(0,o.Lk)("td",null,(0,r.v_)(e.role),1)])))),128))])])])}var k={data(){return{users:[],roles:[],newUser:{name:"",email:"",roleId:""}}},methods:{validateEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.newUser.email?e.test(this.newUser.email)?(this.emailError="",!0):(this.emailError="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email",!1):(this.emailError="–ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",!1)},async submitForm(){if(!this.newUser.email||!this.newUser.name||!this.newUser.roleId)return void alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");if(!this.validateEmail())return;const e=await fetch("http://localhost:3000/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.newUser)}),t=await e.json(),s=this.roles.find((e=>e.id===t.user.roleId));this.users.push({...t.user,role:s?s.name:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}),this.newUser={name:"",email:"",roleId:""}}},async mounted(){try{const[e,t]=await Promise.all([fetch("http://localhost:3000/users"),fetch("http://localhost:3000/roles")]),s=await e.json(),n=await t.json();this.users=s,this.roles=n}catch(e){console.error("Error fetching data",e)}}},b=s(262);const w=(0,b.A)(k,[["render",p]]);var y=w,L={components:{UsersView:y},mounted(){const e=sessionStorage.getItem("activeTabs");this.activeTabs=null!==e?parseInt(e):0,this.fetchUsersData(),this.fetchRolesData()},data(){return{activeTabs:0,usersJson:"",rolesJson:""}},methods:{setActiveTabs(e){this.activeTabs=e,sessionStorage.setItem("activeTabs",e)},async fetchUsersData(){try{const e=await fetch("http://localhost:3000/users"),t=await e.json();this.usersJson=JSON.stringify(t,null,2)}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö:",e)}},async fetchRolesData(){try{const e=await fetch("http://localhost:3000/roles"),t=await e.json();this.rolesJson=JSON.stringify(t,null,2)}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö:",e)}},downloadUsers(){window.open("http://localhost:3000/download/users")}}};const E=(0,b.A)(L,[["render",h]]);var U=E,T=s(220);const j=[{path:"/",name:"home",component:y}],O=(0,T.aE)({history:(0,T.LA)("/data-json/"),routes:j});var C=O,g=s(278),_=(0,g.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.Ef)(U).use(_).use(C).mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var l=!0,i=0;i<n.length;i++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[i])}))?n.splice(i--,1):(l=!1,r<a&&(a=r));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],l=n[1],i=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(i)var u=i(s)}for(t&&t(n);c<a.length;c++)r=a[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(u)},n=self["webpackChunkdata_json"]=self["webpackChunkdata_json"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(76)}));n=s.O(n)})();
//# sourceMappingURL=app.45baa1bd.js.map